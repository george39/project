<section class="pt-4">
  <div class="products-title">
    <h1>{{vm.categoryName}}</h1>
  </div>
  <div class="wrap-crafts mt-5 mb-5">
    <div class="latest-crafts ml-4 mt-3" ng-repeat="craft in vm.crafts">
      <div id="craftPrice">
        <span ng-if="craft.price && !craft.show">{{craft.price | price}}</span>
        <span ng-if="craft.price && craft.show" class="bought">Comprado</span>
        <span ng-if="!craft.price">{{0 | price}}</span>
      </div>
      <img
        height="280px"
        width="280px"
        ng-click="vm.goTo(craft)"
        src="{{craft.image.path}}"
        loading="lazy"
        alt="{{craft.name}}"
      />
    </div>
  </div>

  <div class="modal" id="modalBuyCraft" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h2 class="text-center">{{vm.modalCraft.name}}</h2>
          <div class="row">
            <div class="col-md-8 mx-auto">
              <img
                src="{{vm.modalCraft.image.path}}"
                width="100%"
                height="300px"
                alt="{{vm.modalCraft.name}}"
              />
            </div>
            <div class="col-md-6 mx-auto mt-3">
              <form
                action="https://pay.binlab.io/process/"
                target="_blank"
                id="buy_craft_form"
                method="post"
              >
                <input type="hidden" name="button_id" value="c74d97b01eae257e44aa9d5bade97baf" />
                <input type="hidden" name="amount" id="craft_amount" />
                <input type="hidden" name="custom" id="crafts_custom_input" />
                <button type="button" ng-click="vm.buyCraft()" class="btn btn-purple btn-block">
                  Adquirir manualidad
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
